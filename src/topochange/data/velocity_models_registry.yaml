# Velocity / Deformation Model Registry
# Complete metadata for automated model selection and download
#
# Format specification:
#   name: Unique identifier for the model
#   label: Human-readable description
#   region: Geographic region covered
#   bbox: [min_lon, min_lat, max_lon, max_lat] in EPSG:4326
#   epoch_min: Earliest valid epoch (decimal year)
#   epoch_max: Latest valid epoch (decimal year)
#   central_epoch: Reference epoch for the model (if applicable)
#   kind: "velocity" or "deformation"
#   format: File format(s) supported
#   proj_op: PROJ operation to use ("deformation" or "defmodel")
#   files: List of files/grids required
#   download: Download method and URLs
#   auto_download: Whether to auto-download if missing
#   license: Licensing information
#   citations: Scientific citations or references

models:
  # ============================================================================
  # NORTH AMERICA United States
  # ========================================================================
  
  us_ngs_nadcon5_grids:
    name: "us_ngs_nadcon5"
    label: "NADCON5 multi-epoch transformation grids"
    region: "Conterminous US, Alaska, Hawaii, Puerto Rico, US Virgin Islands"
    bbox: [-180.0, 17.0, -64.0, 72.0]  # Covers all US territories
    epoch_min: 1800.0  # Historical transformations available
    epoch_max: 2050.0
    central_epoch: null  # Multi-epoch, no single reference
    kind: "deformation"
    format: "GeoTIFF / .b binary"
    proj_op: "deformation"
    files: ["us_noaa_nadcon5_*.tif", "us_noaa_nadcon5_*.b"]
    download:
      method: "http_scrape"
      base_url: "https://geodesy.noaa.gov/NADCON5/20160901-archive.shtml"
      pattern: "us_noaa_nadcon5_.*\\.(tif|b)$"
    auto_download: true
    license: "Public domain (US Government)"
    citations:
      - "NGS, NADCON5 Technical Report, 2016"
    notes: >
      Not pure secular velocity; provides epoch-to-epoch transformations.
      Useful for transforming between NAD83 realizations.

  # ============================================================================
  # NORTH AMERICA Canada
  # ================================================================================
  
  ca_nrc_nad83csrs_v6:
    name: "nad83csrs_v6"
    label: "NAD83(CSRS) v6 velocity grid"
    region: "Canada"
    bbox: [-141.01, 41.67, -52.54, 83.17]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2002.0
    kind: "velocity"
    format: "GVB (NRCAN binary)"
    proj_op: "deformation"
    files: ["NAD83v60VG.gvb"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/ca_nrc_NAD83v60VG.tif"
      fallback:
        - "https://webapp.csrs-scrs.nrcan-rncan.gc.ca/geod/data-donnees/velocitymodel.php"
    auto_download: true
    license: "Open Government License - Canada"
    citations:
      - "Natural Resources Canada, NAD83(CSRS) v6, 2015"
  
  ca_nrc_nad83csrs_v7:
    name: "nad83csrs_v7"
    label: "NAD83(CSRS) v7 velocity grid"
    region: "Canada"
    bbox: [-141.01, 41.67, -52.54, 83.17]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2010.0
    kind: "velocity"
    format: "GVB (NRCAN binary) / GeoTIFF"
    proj_op: "deformation"
    files: ["NAD83v70VG.gvb", "ca_nrc_NAD83v70VG.tif"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/ca_nrc_NAD83v70VG.tif"
      fallback:
        - "https://webapp.csrs-scrs.nrcan-rncan.gc.ca/geod/data-donnees/velocitymodel.php"
    auto_download: true
    license: "Open Government License - Canada"
    citations:
      - "Natural Resources Canada, NAD83(CSRS) v7, 2017"
    notes: >
      EPSG:9483. Most commonly used CSRS velocity model.

  ca_nrc_nad83csrs_v8:
    name: "nad83csrs_v8"
    label: "NAD83(CSRS) v8 velocity grid"
    region: "Canada"
    bbox: [-141.01, 41.67, -52.54, 83.17]
    epoch_min: 1990.0
    epoch_max: 2100.0
    central_epoch: 2020.0
    kind: "velocity"
    format: "GVB (NRCAN binary) / GeoTIFF"
    proj_op: "deformation"
    files: ["NAD83v80VG.gvb", "ca_nrc_NAD83v80VG.tif"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/ca_nrc_NAD83v80VG.tif"
      fallback:
        - "https://webapp.csrs-scrs.nrcan-rncan.gc.ca/geod/data-donnees/velocitymodel.php"
    auto_download: true
    license: "Open Government License - Canada"
    citations:
      - "Natural Resources Canada, NAD83(CSRS) v8, 2022"
    notes: >
      Latest CSRS velocity model. Check NRCAN for availability.

  # ============================================================================
  # EUROPE - Nordic / Baltic
  # ============================================================================
  
  eur_nkg_nkgrf17vel:
    name: "nkg_rf17vel"
    label: "NKG RF17vel Nordic velocity model"
    region: "Nordic and Baltic countries"
    bbox: [5.0, 54.0, 32.0, 72.0]
    epoch_min: 1980.0
    epoch_max: 2050.0
    central_epoch: 2000.0
    kind: "velocity"
    format: "GeoTIFF (COG)"
    proj_op: "deformation"
    files: ["eur_nkg_nkgrf17vel.tif"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/eur_nkg_nkgrf17vel.tif"
    auto_download: true
    license: "CC BY 4.0"
    citations:
      - "Kall et al., The NKG2016 GPS/levelling geoid model, 2017"
      - "Nordic Geodetic Commission"
    notes: >
      Official NKG model for ETRS89 realization in Nordic region.
      Accounts for glacial isostatic adjustment (GIA).

  eur_nkg_nkgrf03vel:
    name: "nkg_rf03vel"
    label: "NKG RF03vel Nordic velocity model"
    region: "Nordic and Baltic countries"
    bbox: [5.0, 54.0, 32.0, 72.0]
    epoch_min: 1980.0
    epoch_max: 2050.0
    central_epoch: 2000.0
    kind: "velocity"
    format: "GTX / GeoTIFF"
    proj_op: "deformation"
    files: ["eur_nkg_nkgrf03vel.tif", "NKG_ETRS89vel.gtx"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/eur_nkg_nkgrf03vel.tif"
    auto_download: true
    license: "CC BY 4.0"
    citations:
      - "Nordic Geodetic Commission"

  # ============================================================================
  # EUROPE - Slovenia
  # ============================================================================
  
  si_gurs_slovtp2024:
    name: "si_gurs_slovtp2024"
    label: "Slovenia SLO-VTP2024 velocity model"
    region: "Slovenia"
    bbox: [13.4, 45.4, 16.6, 46.9]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2010.0
    kind: "velocity"
    format: "GeoTIFF (COG)"
    proj_op: "deformation"
    files: ["si_gurs_SLO-VTP2024.tif"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/si_gurs_SLO-VTP2024.tif"
    auto_download: true
    license: "Open (check GURS)"
    citations:
      - "Geodetic Survey of Slovenia (GURS)"

  # ============================================================================
  # OCEANIA - New Zealand
  # ============================================================================
  
  nz_linz_nzgd2000_defmodel:
    name: "nzgd2000_defmodel"
    label: "NZGD2000 deformation model"
    region: "New Zealand"
    bbox: [165.0, -48.0, 180.0, -33.0]
    epoch_min: 1900.0  # Includes historical earthquakes
    epoch_max: 2050.0
    central_epoch: 2000.0
    kind: "deformation"
    format: "JSON + CSV patches"
    proj_op: "defmodel"
    files: ["nzgd2000-20180701.json"]
    download:
      method: "http_scrape"
      base_url: "https://www.geodesy.linz.govt.nz/download/"
      pattern: "nzgd2000_deformation_model.*\\.zip"
      extract: true
    auto_download: true
    license: "CC BY 4.0"
    citations:
      - "Beavan et al., The NZGD2000 deformation model, 2016"
      - "LINZ, Land Information New Zealand"
    notes: >
      Includes secular velocity and earthquake patch models.
      Semi-dynamic datum accounting for plate tectonics and seismic events.

  # ============================================================================
  # OCEANIA - Australia  
  # ============================================================================
  
  au_ga_gda2020_agd:
    name: "au_ga_gda2020_agd"
    label: "Australian Geodetic Datum deformation model"
    region: "Australia"
    bbox: [110.0, -45.0, 155.0, -9.0]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2020.0
    kind: "velocity"
    format: "GeoTIFF"
    proj_op: "deformation"
    files: ["au_ga_AUSGeoid2020_velocity.tif"]
    download:
      method: "manual"
      info_url: "https://www.icsm.gov.au/gda2020"
    auto_download: false
    license: "CC BY 4.0"
    citations:
      - "Geoscience Australia, GDA2020 Technical Manual, 2020"
    notes: >
      Check Geoscience Australia for official distribution.

  # ============================================================================
  # ATLANTIC - Iceland
  # ============================================================================
  
  is_lmi_isn_vel:
    name: "is_lmi_isn_vel"
    label: "Iceland ISN velocity model"
    region: "Iceland"
    bbox: [-25.0, 63.0, -13.0, 67.0]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2004.0
    kind: "velocity"
    format: "GeoTIFF (COG)"
    proj_op: "deformation"
    files: ["is_lmi_ISN_vel_beta.tif"]
    download:
      method: "cdn_direct"
      urls:
        - "https://cdn.proj.org/is_lmi_ISN_vel_beta.tif"
    auto_download: true
    license: "Open"
    citations:
      - "National Land Survey of Iceland"
    notes: >
      Beta version. Iceland sits on the Mid-Atlantic Ridge with high
      crustal motion rates.

  # ============================================================================
  # PACIFIC - Global/Regional strain models
  # ============================================================================
  
  gem_gsrm21_global:
    name: "gem_gsrm21"
    label: "GEM GSRM v2.1 global strain rate model"
    region: "Global"
    bbox: [-180.0, -90.0, 180.0, 90.0]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: null
    kind: "strain_rate"
    format: "ASCII grids"
    proj_op: "deformation"  # After conversion
    files: ["gem_gsrm21_velocity.tif"]  # Converted output
    download:
      method: "http_scrape"
      base_url: "https://gsrm.unavco.org/model/"
      pattern: ".*\\.(txt|dat|asc|zip)"
      requires_conversion: true
    auto_download: true
    license: "CC BY 4.0"
    citations:
      - "Kreemer et al., A geodetic plate motion and Global Strain Rate Model, 2014"
      - "GEM Foundation / UNAVCO"
    notes: >
      Provides strain-rate tensors globally. System will automatically
      download and convert to velocity grids for PROJ use. Gives relative
      velocities; use for areas without dedicated velocity models.

  # ============================================================================
  # UNITED STATES - Regional deformation models
  # ============================================================================
  
  us_usgs_nshm23_western:
    name: "us_usgs_nshm23_western"
    label: "USGS NSHM 2023 geodetic deformation (Western US)"
    region: "Western United States"
    bbox: [-125.0, 31.0, -103.0, 49.0]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2018.0
    kind: "deformation"
    format: "NetCDF / custom"
    proj_op: "deformation"  # After conversion
    files: ["us_usgs_nshm23_western_velocity.tif"]  # Converted output
    download:
      method: "manual"
      info_url: "https://www.usgs.gov/data/geodetic-deformation-model-results-and-corrections-use-us-national-seismic-hazard-model-2023"
      requires_conversion: true
      conversion_options:
        model_variant: "pollitz"  # Or: zeng, shen, evans
    auto_download: false
    license: "Public domain (US Government)"
    citations:
      - "Pollitz et al., USGS NSHM 2023"
      - "USGS Data Release doi:10.5066/P13KJFX0"
    notes: >
      Multiple model variants (Pollitz, Zeng, Shen, Evans). Requires
      manual download from USGS, then system will auto-convert NetCDF
      to PROJ-compatible GeoTIFF.

  us_ucerf3_california:
    name: "ucerf3_california"
    label: "UCERF3 deformation model (California)"
    region: "California"
    bbox: [-125.0, 32.0, -114.0, 42.5]
    epoch_min: 1990.0
    epoch_max: 2050.0
    central_epoch: 2010.0
    kind: "deformation"
    format: "OpenSHA FaultSystemSolution + gridded strain"
    proj_op: "deformation"  # After conversion
    files: ["ucerf3_california_velocity.tif"]  # Converted output
    download:
      method: "http_scrape"
      base_url: "http://opensha.usc.edu/ftp/kmilner/ucerf3/2013_05_10-ucerf3p3-production-10runs_fm_dm_sub_plots/"
      pattern: ".*MeanUCERF3.*\\.zip"
      extract: true
      requires_conversion: true
      conversion_options:
        model_variant: "MeanUCERF3"
    auto_download: true
    license: "USGS Public Domain / OpenSHA"
    citations:
      - "Field et al., UCERF3, 2014"
    notes: >
      Fault slip rates and off-fault strain on 0.1Â° grid. System will
      automatically download and convert strain rates to velocity grid.
      Three kinematic/geodetic model variants available (Mean, Geologic, etc.).

  # ============================================================================
  # GENERIC / RESEARCH
  # ============================================================================
  
  earthscope_gage_pbo:
    name: "earthscope_pbo"
    label: "EarthScope PBO GPS velocity field"
    region: "Western US, Alaska"
    bbox: [-165.0, 30.0, -100.0, 70.0]
    epoch_min: 2000.0
    epoch_max: 2025.0
    central_epoch: null
    kind: "velocity"
    format: "ASCII station list / KMZ"
    proj_op: "deformation"  # After gridding
    files: ["earthscope_pbo_velocity.tif"]  # Converted output
    download:
      method: "manual"
      info_url: "https://www.unavco.org/data/gps-gnss/derived-products/derived-products.html"
      requires_conversion: true
      conversion_options:
        resolution: 0.1  # Grid spacing in degrees
        method: "linear"  # Interpolation method
    auto_download: false
    license: "NSF / UNAVCO"
    citations:
      - "EarthScope / GAGE Facility"
    notes: >
      Point velocities at GNSS stations. System will automatically grid
      using scipy interpolation after manual download. Resolution and
      interpolation method configurable.

# ==============================================================================
# TEMPLATE FOR ADDING CUSTOM MODELS
# ==============================================================================
# 
# custom_model_name:
#   name: "unique_id"
#   label: "Descriptive name"
#   region: "Coverage area"
#   bbox: [min_lon, min_lat, max_lon, max_lat]  # EPSG:4326
#   epoch_min: 1990.0
#   epoch_max: 2050.0
#   central_epoch: 2020.0  # or null
#   kind: "velocity" or "deformation" or "strain_rate"
#   format: "File format description"
#   proj_op: "deformation" or "defmodel" or null
#   files: ["filename1.tif", "filename2.gvb"]
#   download:
#     method: "cdn_direct" or "http_scrape" or "manual"
#     urls: ["https://example.com/model.tif"]  # for cdn_direct
#     base_url: "https://example.com/"  # for http_scrape
#     pattern: ".*\\.tif$"  # for http_scrape
#     info_url: "https://example.com/info"  # for manual
#   auto_download: true or false
#   license: "License information"
#   citations:
#     - "Citation 1"
#     - "Citation 2"
#   notes: >
#     Additional information about the model